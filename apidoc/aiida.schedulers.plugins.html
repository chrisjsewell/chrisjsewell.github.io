

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aiida.schedulers.plugins package &mdash; AiiDA 1.2.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/togglebutton.js"></script>
        <script src="../_static/contentui.js"></script>
        <script >var togglebuttonSelector = '.toggle';</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/about.html">What is AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/get_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/installation.html">Advanced Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howto/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topics/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plugins/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/placeholder.html">Placeholder</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>aiida.schedulers.plugins package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/aiida.schedulers.plugins.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-aiida.schedulers.plugins">
<span id="aiida-schedulers-plugins-package"></span><h1>aiida.schedulers.plugins package<a class="headerlink" href="#module-aiida.schedulers.plugins" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-aiida.schedulers.plugins.direct">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-aiida.schedulers.plugins.direct" title="Permalink to this headline">¶</a></h2>
<p>Plugin for direct execution.</p>
<dl class="class">
<dt id="aiida.schedulers.plugins.direct.DirectJobResource">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.direct.</code><code class="sig-name descname">DirectJobResource</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectJobResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectJobResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.datastructures.NodeNumberJobResource" title="aiida.schedulers.datastructures.NodeNumberJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.datastructures.NodeNumberJobResource</span></code></a></p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.direct.DirectJobResource.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.direct'</em><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectJobResource.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.direct.</code><code class="sig-name descname">DirectScheduler</code><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.scheduler.Scheduler" title="aiida.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.scheduler.Scheduler</span></code></a></p>
<p>Support for the direct execution bypassing schedulers.</p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.direct'</em><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._convert_time">
<code class="sig-name descname">_convert_time</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler._convert_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._convert_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a string in the format HH:MM:SS to a number of seconds.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._features">
<code class="sig-name descname">_features</code><em class="property"> = {'can_query_by_user': True}</em><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._get_joblist_command">
<code class="sig-name descname">_get_joblist_command</code><span class="sig-paren">(</span><em class="sig-param">jobs=None</em>, <em class="sig-param">user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler._get_joblist_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._get_joblist_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The command to report full information on existing jobs.</p>
<dl class="simple">
<dt>TODO: in the case of job arrays, decide what to do (i.e., if we want</dt><dd><p>to pass the -t options to list each subjob).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._get_kill_command">
<code class="sig-name descname">_get_kill_command</code><span class="sig-paren">(</span><em class="sig-param">jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler._get_kill_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._get_kill_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to kill the job with specified jobid.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._get_submit_command">
<code class="sig-name descname">_get_submit_command</code><span class="sig-paren">(</span><em class="sig-param">submit_script</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler._get_submit_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._get_submit_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string to execute to submit a given script.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>One needs to redirect stdout and stderr to /dev/null
otherwise the daemon remains hanging for the script to run</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>submit_script</strong> – the path of the submit script relative to the working
directory.
IMPORTANT: submit_script should be already escaped.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._get_submit_script_header">
<code class="sig-name descname">_get_submit_script_header</code><span class="sig-paren">(</span><em class="sig-param">job_tmpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler._get_submit_script_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._get_submit_script_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the submit script header, using the parameters from the
job_tmpl.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>job_tmpl: an JobTemplate instance with relevant parameters set.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._job_resource_class">
<code class="sig-name descname">_job_resource_class</code><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._job_resource_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#aiida.schedulers.plugins.direct.DirectJobResource" title="aiida.schedulers.plugins.direct.DirectJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DirectJobResource</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._logger">
<code class="sig-name descname">_logger</code><em class="property"> = &lt;Logger aiida.scheduler.direct (REPORT)&gt;</em><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._parse_joblist_output">
<code class="sig-name descname">_parse_joblist_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler._parse_joblist_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._parse_joblist_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the queue output string, as returned by executing the
command returned by _get_joblist_command command (qstat -f).</p>
<p>Return a list of JobInfo objects, one of each job,
each relevant parameters implemented.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>depending on the scheduler configuration, finished jobs
may either appear here, or not.
This function will only return one element for each job find
in the qstat output; missing jobs (for whatever reason) simply
will not appear here.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._parse_kill_output">
<code class="sig-name descname">_parse_kill_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler._parse_kill_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._parse_kill_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the kill command.</p>
<p>To be implemented by the plugin.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if everything seems ok, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler._parse_submit_output">
<code class="sig-name descname">_parse_submit_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler._parse_submit_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler._parse_submit_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the submit command, as returned by executing the
command returned by _get_submit_command command.</p>
<p>To be implemented by the plugin.</p>
<p>Return a string with the JobID.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.direct.DirectScheduler.get_jobs">
<code class="sig-name descname">get_jobs</code><span class="sig-paren">(</span><em class="sig-param">jobs=None</em>, <em class="sig-param">user=None</em>, <em class="sig-param">as_dict=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/direct.html#DirectScheduler.get_jobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.direct.DirectScheduler.get_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Overrides original method from DirectScheduler in order to list
missing processes as DONE.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-aiida.schedulers.plugins.lsf"></span><p>Plugin for LSF.
This has been tested on the CERN lxplus cluster (LSF 9.1.3)</p>
<dl class="class">
<dt id="aiida.schedulers.plugins.lsf.LsfJobResource">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.lsf.</code><code class="sig-name descname">LsfJobResource</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfJobResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfJobResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.datastructures.JobResource" title="aiida.schedulers.datastructures.JobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.datastructures.JobResource</span></code></a></p>
<p>An implementation of JobResource for LSF, that supports
the OPTIONAL specification of a parallel environment (a string) + the total
number of processors.</p>
<p>‘parallel_env’ should contain a string of the form
“host1 host2! hostgroupA! host3 host4” where the “!” symbol indicates the
first execution host candidates. Other hosts are added only if the number of
processors asked is more than those of the first execution host.
See <a class="reference external" href="https://www-01.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_command_ref/bsub.1.dita?lang=en">https://www-01.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_command_ref/bsub.1.dita?lang=en</a>
for more details about the parallel environment definition (the -m option of bsub).</p>
<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfJobResource.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfJobResource.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfJobResource.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the job resources from the passed arguments (the valid keys can be
obtained with the function self.get_valid_keys()).</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – on invalid parameters.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – on invalid parameters.</p></li>
<li><p><a class="reference internal" href="aiida.common.html#aiida.common.ConfigurationError" title="aiida.common.ConfigurationError"><strong>aiida.common.ConfigurationError</strong></a> – if default_mpiprocs_per_machine was set for this
computer, since LsfJobResource cannot accept this parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.lsf.LsfJobResource.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.lsf'</em><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfJobResource.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.lsf.LsfJobResource._default_fields">
<code class="sig-name descname">_default_fields</code><em class="property"> = ('parallel_env', 'tot_num_mpiprocs', 'default_mpiprocs_per_machine')</em><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfJobResource._default_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfJobResource.accepts_default_mpiprocs_per_machine">
<em class="property">classmethod </em><code class="sig-name descname">accepts_default_mpiprocs_per_machine</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfJobResource.accepts_default_mpiprocs_per_machine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfJobResource.accepts_default_mpiprocs_per_machine" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this JobResource accepts a ‘default_mpiprocs_per_machine’
key, False otherwise.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfJobResource.get_tot_num_mpiprocs">
<code class="sig-name descname">get_tot_num_mpiprocs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfJobResource.get_tot_num_mpiprocs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfJobResource.get_tot_num_mpiprocs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total number of cpus of this job resource.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.lsf.</code><code class="sig-name descname">LsfScheduler</code><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.scheduler.Scheduler" title="aiida.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.scheduler.Scheduler</span></code></a></p>
<p>Support for the IBM LSF scheduler
‘<a class="reference external" href="https://www-01.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_welcome.html">https://www-01.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_welcome.html</a>’</p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.lsf'</em><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._features">
<code class="sig-name descname">_features</code><em class="property"> = {'can_query_by_user': False}</em><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._get_detailed_job_info_command">
<code class="sig-name descname">_get_detailed_job_info_command</code><span class="sig-paren">(</span><em class="sig-param">job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._get_detailed_job_info_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._get_detailed_job_info_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to run to get the detailed information on a job,
even after the job has finished.</p>
<p>The output text is just retrieved, and returned for logging purposes.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._get_joblist_command">
<code class="sig-name descname">_get_joblist_command</code><span class="sig-paren">(</span><em class="sig-param">jobs=None</em>, <em class="sig-param">user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._get_joblist_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._get_joblist_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The command to report full information on existing jobs.</p>
<p>Separates the fields with the _field_separator string order:
jobnum, state, walltime, queue[=partition], user, numnodes, numcores, title</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._get_kill_command">
<code class="sig-name descname">_get_kill_command</code><span class="sig-paren">(</span><em class="sig-param">jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._get_kill_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._get_kill_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to kill the job with specified jobid.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._get_submit_command">
<code class="sig-name descname">_get_submit_command</code><span class="sig-paren">(</span><em class="sig-param">submit_script</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._get_submit_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._get_submit_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string to execute to submit a given script.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>submit_script</strong> – the path of the submit script relative to the working
directory.
IMPORTANT: submit_script should be already escaped.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._get_submit_script_footer">
<code class="sig-name descname">_get_submit_script_footer</code><span class="sig-paren">(</span><em class="sig-param">job_tmpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._get_submit_script_footer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._get_submit_script_footer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the submit script final part, using the parameters from the
job_tmpl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job_tmpl</strong> – a JobTemplate instance with relevant parameters set.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._get_submit_script_header">
<code class="sig-name descname">_get_submit_script_header</code><span class="sig-paren">(</span><em class="sig-param">job_tmpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._get_submit_script_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._get_submit_script_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the submit script header, using the parameters from the
job_tmpl. See the following manual
<a class="reference external" href="https://www-01.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_command_ref/bsub.1.dita?lang=en">https://www-01.ibm.com/support/knowledgecenter/SSETD4_9.1.2/lsf_command_ref/bsub.1.dita?lang=en</a>
for more details about the possible options to bsub, in particular for
the parallel environment definition (with the -m option).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job_tmpl</strong> – an JobTemplate instance with relevant parameters set.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._job_resource_class">
<code class="sig-name descname">_job_resource_class</code><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._job_resource_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#aiida.schedulers.plugins.lsf.LsfJobResource" title="aiida.schedulers.plugins.lsf.LsfJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">LsfJobResource</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._joblist_fields">
<code class="sig-name descname">_joblist_fields</code><em class="property"> = ['id', 'stat', 'exit_reason', 'exec_host', 'user', 'slots', 'max_req_proc', 'exec_host', 'queue', 'finish_time', 'start_time', '%complete', 'submit_time', 'name']</em><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._joblist_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._logger">
<code class="sig-name descname">_logger</code><em class="property"> = &lt;Logger aiida.scheduler.lsf (REPORT)&gt;</em><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._parse_joblist_output">
<code class="sig-name descname">_parse_joblist_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._parse_joblist_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._parse_joblist_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the queue output string, as returned by executing the
command returned by _get_joblist_command command,
that is here implemented as a list of lines, one for each
job, with _field_separator as separator. The order is described
in the _get_joblist_command function.</p>
<p>Return a list of JobInfo objects, one of each job,
each relevant parameters implemented.</p>
<dl class="simple">
<dt>Note: depending on the scheduler configuration, finished jobs may</dt><dd><p>either appear here, or not.
This function will only return one element for each job find
in the qstat output; missing jobs (for whatever reason) simply
will not appear here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._parse_kill_output">
<code class="sig-name descname">_parse_kill_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._parse_kill_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._parse_kill_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the kill command.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if everything seems ok, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._parse_submit_output">
<code class="sig-name descname">_parse_submit_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._parse_submit_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._parse_submit_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the submit command, as returned by executing the
command returned by _get_submit_command command.</p>
<p>To be implemented by the plugin.</p>
<p>Return a string with the JobID.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.lsf.LsfScheduler._parse_time_string">
<code class="sig-name descname">_parse_time_string</code><span class="sig-paren">(</span><em class="sig-param">string</em>, <em class="sig-param">fmt='%b %d %H:%M'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/lsf.html#LsfScheduler._parse_time_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.lsf.LsfScheduler._parse_time_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a time string and returns a datetime object.
Example format: ‘Feb  2 07:39’ or ‘Feb  2 07:39 L’</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-aiida.schedulers.plugins.pbsbaseclasses"></span><p>Base classes for PBSPro and PBS/Torque plugins.</p>
<dl class="class">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.pbsbaseclasses.</code><code class="sig-name descname">PbsBaseClass</code><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.scheduler.Scheduler" title="aiida.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.scheduler.Scheduler</span></code></a></p>
<p>Base class with support for the PBSPro scheduler
(<a class="reference external" href="http://www.pbsworks.com/">http://www.pbsworks.com/</a>) and for PBS and Torque
(<a class="reference external" href="http://www.adaptivecomputing.com/products/open-source/torque/">http://www.adaptivecomputing.com/products/open-source/torque/</a>).</p>
<p>Only a few properties need to be redefined, see examples of the pbspro and
torque plugins</p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.pbsbaseclasses'</em><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._convert_time">
<em class="property">static </em><code class="sig-name descname">_convert_time</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._convert_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._convert_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a string in the format HH:MM:SS to a number of seconds.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._features">
<code class="sig-name descname">_features</code><em class="property"> = {'can_query_by_user': False}</em><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_detailed_job_info_command">
<code class="sig-name descname">_get_detailed_job_info_command</code><span class="sig-paren">(</span><em class="sig-param">job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._get_detailed_job_info_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_detailed_job_info_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to run to get the detailed information on a job,
even after the job has finished.</p>
<p>The output text is just retrieved, and returned for logging purposes.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_joblist_command">
<code class="sig-name descname">_get_joblist_command</code><span class="sig-paren">(</span><em class="sig-param">jobs=None</em>, <em class="sig-param">user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._get_joblist_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_joblist_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The command to report full information on existing jobs.</p>
<dl class="simple">
<dt>TODO: in the case of job arrays, decide what to do (i.e., if we want</dt><dd><p>to pass the -t options to list each subjob).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_kill_command">
<code class="sig-name descname">_get_kill_command</code><span class="sig-paren">(</span><em class="sig-param">jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._get_kill_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_kill_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to kill the job with specified jobid.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_resource_lines">
<code class="sig-name descname">_get_resource_lines</code><span class="sig-paren">(</span><em class="sig-param">num_machines</em>, <em class="sig-param">num_mpiprocs_per_machine</em>, <em class="sig-param">num_cores_per_machine</em>, <em class="sig-param">max_memory_kb</em>, <em class="sig-param">max_wallclock_seconds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._get_resource_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_resource_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set a list of lines (possibly empty) with the header
lines relative to:</p>
<ul class="simple">
<li><p>num_machines</p></li>
<li><p>num_mpiprocs_per_machine</p></li>
<li><p>num_cores_per_machine</p></li>
<li><p>max_memory_kb</p></li>
<li><p>max_wallclock_seconds</p></li>
</ul>
<p>This is done in an external function because it may change in
different subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_submit_command">
<code class="sig-name descname">_get_submit_command</code><span class="sig-paren">(</span><em class="sig-param">submit_script</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._get_submit_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_submit_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string to execute to submit a given script.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>submit_script: the path of the submit script relative to the working</dt><dd><p>directory.
IMPORTANT: submit_script should be already escaped.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_submit_script_header">
<code class="sig-name descname">_get_submit_script_header</code><span class="sig-paren">(</span><em class="sig-param">job_tmpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._get_submit_script_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._get_submit_script_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the submit script header, using the parameters from the
job_tmpl.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>job_tmpl: an JobTemplate instance with relevant parameters set.</p>
</dd>
</dl>
<p>TODO: truncate the title if too long</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._job_resource_class">
<code class="sig-name descname">_job_resource_class</code><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._job_resource_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsJobResource" title="aiida.schedulers.plugins.pbsbaseclasses.PbsJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">PbsJobResource</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._map_status">
<code class="sig-name descname">_map_status</code><em class="property"> = {'B': &lt;JobState.RUNNING: 'running'&gt;, 'C': &lt;JobState.DONE: 'done'&gt;, 'E': &lt;JobState.RUNNING: 'running'&gt;, 'F': &lt;JobState.DONE: 'done'&gt;, 'H': &lt;JobState.QUEUED_HELD: 'queued held'&gt;, 'M': &lt;JobState.UNDETERMINED: 'undetermined'&gt;, 'Q': &lt;JobState.QUEUED: 'queued'&gt;, 'R': &lt;JobState.RUNNING: 'running'&gt;, 'S': &lt;JobState.SUSPENDED: 'suspended'&gt;, 'T': &lt;JobState.QUEUED: 'queued'&gt;, 'U': &lt;JobState.SUSPENDED: 'suspended'&gt;, 'W': &lt;JobState.QUEUED: 'queued'&gt;, 'X': &lt;JobState.DONE: 'done'&gt;}</em><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._map_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._parse_joblist_output">
<code class="sig-name descname">_parse_joblist_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._parse_joblist_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._parse_joblist_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the queue output string, as returned by executing the
command returned by _get_joblist_command command (qstat -f).</p>
<p>Return a list of JobInfo objects, one of each job,
each relevant parameters implemented.</p>
<dl class="simple">
<dt>Note: depending on the scheduler configuration, finished jobs may</dt><dd><p>either appear here, or not.
This function will only return one element for each job find
in the qstat output; missing jobs (for whatever reason) simply
will not appear here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._parse_kill_output">
<code class="sig-name descname">_parse_kill_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._parse_kill_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._parse_kill_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the kill command.</p>
<p>To be implemented by the plugin.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if everything seems ok, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._parse_submit_output">
<code class="sig-name descname">_parse_submit_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._parse_submit_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._parse_submit_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the submit command, as returned by executing the
command returned by _get_submit_command command.</p>
<p>To be implemented by the plugin.</p>
<p>Return a string with the JobID.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._parse_time_string">
<em class="property">static </em><code class="sig-name descname">_parse_time_string</code><span class="sig-paren">(</span><em class="sig-param">string</em>, <em class="sig-param">fmt='%a %b %d %H:%M:%S %Y'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsBaseClass._parse_time_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass._parse_time_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a time string in the format returned from qstat -f and
returns a datetime object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsJobResource">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.pbsbaseclasses.</code><code class="sig-name descname">PbsJobResource</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsJobResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsJobResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.datastructures.NodeNumberJobResource" title="aiida.schedulers.datastructures.NodeNumberJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.datastructures.NodeNumberJobResource</span></code></a></p>
<p>Base class for PBS job resources</p>
<dl class="method">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsJobResource.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbsbaseclasses.html#PbsJobResource.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsJobResource.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>It extends the base class init method and calculates the
num_cores_per_machine fields to pass to PBSlike schedulers.</p>
<p>Checks that num_cores_per_machine is a multiple of
num_cores_per_mpiproc and/or num_mpiprocs_per_machine</p>
<p>Check sequence</p>
<ol class="arabic simple">
<li><p>If num_cores_per_mpiproc and num_cores_per_machine both are
specified check whether it satisfies the check</p></li>
<li><p>If only num_cores_per_mpiproc is passed, calculate
num_cores_per_machine</p></li>
<li><p>If only num_cores_per_machine is passed, use it</p></li>
</ol>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.pbsbaseclasses.PbsJobResource.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.pbsbaseclasses'</em><a class="headerlink" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsJobResource.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-aiida.schedulers.plugins.pbspro"></span><p>Plugin for PBSPro.
This has been tested on PBSPro v. 12.</p>
<dl class="class">
<dt id="aiida.schedulers.plugins.pbspro.PbsproScheduler">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.pbspro.</code><code class="sig-name descname">PbsproScheduler</code><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbspro.html#PbsproScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbspro.PbsproScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass" title="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass</span></code></a></p>
<p>Subclass to support the PBSPro scheduler
(<a class="reference external" href="http://www.pbsworks.com/">http://www.pbsworks.com/</a>).</p>
<p>I redefine only what needs to change from the base class</p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.pbspro.PbsproScheduler.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.pbspro'</em><a class="headerlink" href="#aiida.schedulers.plugins.pbspro.PbsproScheduler.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.pbspro.PbsproScheduler._get_resource_lines">
<code class="sig-name descname">_get_resource_lines</code><span class="sig-paren">(</span><em class="sig-param">num_machines</em>, <em class="sig-param">num_mpiprocs_per_machine</em>, <em class="sig-param">num_cores_per_machine</em>, <em class="sig-param">max_memory_kb</em>, <em class="sig-param">max_wallclock_seconds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/pbspro.html#PbsproScheduler._get_resource_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.pbspro.PbsproScheduler._get_resource_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lines for machines, memory and wallclock relative
to pbspro.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-aiida.schedulers.plugins.sge"></span><p>Plugin for SGE.
This has been tested on GE 6.2u3.</p>
<p>Plugin originally written by Marco Dorigo.
Email: marco(DOT)dorigo(AT)rub(DOT)de</p>
<dl class="class">
<dt id="aiida.schedulers.plugins.sge.SgeJobResource">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.sge.</code><code class="sig-name descname">SgeJobResource</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeJobResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeJobResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.datastructures.ParEnvJobResource" title="aiida.schedulers.datastructures.ParEnvJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.datastructures.ParEnvJobResource</span></code></a></p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.sge.SgeJobResource.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.sge'</em><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeJobResource.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.sge.</code><code class="sig-name descname">SgeScheduler</code><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.scheduler.Scheduler" title="aiida.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.scheduler.Scheduler</span></code></a></p>
<p>Support for the Sun Grid Engine scheduler and its variants/forks (Son of Grid Engine, Oracle Grid Engine, …)</p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.sge'</em><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._features">
<code class="sig-name descname">_features</code><em class="property"> = {'can_query_by_user': True}</em><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._get_detailed_job_info_command">
<code class="sig-name descname">_get_detailed_job_info_command</code><span class="sig-paren">(</span><em class="sig-param">job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._get_detailed_job_info_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._get_detailed_job_info_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to run to get the detailed information on a job.
This is typically called after the job has finished, to retrieve
the most detailed information possible about the job. This is done
because most schedulers just make finished jobs disappear from the
‘qstat’ command, and instead sometimes it is useful to know some
more detailed information about the job exit status, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="aiida.common.html#aiida.common.exceptions.FeatureNotAvailable" title="aiida.common.exceptions.FeatureNotAvailable"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.common.exceptions.FeatureNotAvailable</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._get_joblist_command">
<code class="sig-name descname">_get_joblist_command</code><span class="sig-paren">(</span><em class="sig-param">jobs=None</em>, <em class="sig-param">user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._get_joblist_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._get_joblist_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The command to report full information on existing jobs.</p>
<dl class="simple">
<dt>TODO: in the case of job arrays, decide what to do (i.e., if we want</dt><dd><p>to pass the -t options to list each subjob).</p>
</dd>
</dl>
<p>!!!ALL COPIED FROM PBSPRO!!!
TODO: understand if it is worth escaping the username,
or rather leave it unescaped to allow to pass $USER</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._get_kill_command">
<code class="sig-name descname">_get_kill_command</code><span class="sig-paren">(</span><em class="sig-param">jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._get_kill_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._get_kill_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to kill the job with specified jobid.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._get_submit_command">
<code class="sig-name descname">_get_submit_command</code><span class="sig-paren">(</span><em class="sig-param">submit_script</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._get_submit_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._get_submit_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string to execute to submit a given script.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>submit_script: the path of the submit script relative to the working</dt><dd><p>directory.
IMPORTANT: submit_script should be already escaped.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._get_submit_script_header">
<code class="sig-name descname">_get_submit_script_header</code><span class="sig-paren">(</span><em class="sig-param">job_tmpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._get_submit_script_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._get_submit_script_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the submit script header, using the parameters from the
job_tmpl.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>job_tmpl: an JobTemplate instance with relevant parameters set.</p>
</dd>
</dl>
<p>TODO: truncate the title if too long</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._job_resource_class">
<code class="sig-name descname">_job_resource_class</code><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._job_resource_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#aiida.schedulers.plugins.sge.SgeJobResource" title="aiida.schedulers.plugins.sge.SgeJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">SgeJobResource</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._logger">
<code class="sig-name descname">_logger</code><em class="property"> = &lt;Logger aiida.scheduler.sge (REPORT)&gt;</em><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._parse_joblist_output">
<code class="sig-name descname">_parse_joblist_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._parse_joblist_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._parse_joblist_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the joblist output (‘qstat’), as returned by executing the
command returned by _get_joblist_command method.</p>
<p>To be implemented by the plugin.</p>
<p>Return a list of JobInfo objects, one of each job,
each with at least its default params implemented.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._parse_kill_output">
<code class="sig-name descname">_parse_kill_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._parse_kill_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._parse_kill_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the kill command.</p>
<p>To be implemented by the plugin.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if everything seems ok, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._parse_submit_output">
<code class="sig-name descname">_parse_submit_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._parse_submit_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._parse_submit_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the submit command, as returned by executing the
command returned by _get_submit_command command.</p>
<p>To be implemented by the plugin.</p>
<p>Return a string with the JobID.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.sge.SgeScheduler._parse_time_string">
<code class="sig-name descname">_parse_time_string</code><span class="sig-paren">(</span><em class="sig-param">string</em>, <em class="sig-param">fmt='%Y-%m-%dT%H:%M:%S'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/sge.html#SgeScheduler._parse_time_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.sge.SgeScheduler._parse_time_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a time string in the format returned from qstat -xml -ext and
returns a datetime object.
Example format: 2013-06-13T11:53:11</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-aiida.schedulers.plugins.slurm"></span><p>Plugin for SLURM.
This has been tested on SLURM 14.03.7 on the CSCS.ch machines.</p>
<dl class="class">
<dt id="aiida.schedulers.plugins.slurm.SlurmJobResource">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.slurm.</code><code class="sig-name descname">SlurmJobResource</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmJobResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmJobResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.datastructures.NodeNumberJobResource" title="aiida.schedulers.datastructures.NodeNumberJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.datastructures.NodeNumberJobResource</span></code></a></p>
<p>Slurm job resources object</p>
<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmJobResource.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmJobResource.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmJobResource.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>It extends the base class init method and calculates the
num_cores_per_mpiproc fields to pass to Slurm schedulers.</p>
<p>Checks that num_cores_per_machine should be a multiple of
num_cores_per_mpiproc and/or num_mpiprocs_per_machine</p>
<p>Check sequence</p>
<ol class="arabic simple">
<li><p>If num_cores_per_mpiproc and num_cores_per_machine both are
specified check whether it satisfies the check</p></li>
<li><p>If only num_cores_per_machine is passed, calculate
num_cores_per_mpiproc which should always be an integer value</p></li>
<li><p>If only num_cores_per_mpiproc is passed, use it</p></li>
</ol>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.slurm.SlurmJobResource.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.slurm'</em><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmJobResource.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.slurm.</code><code class="sig-name descname">SlurmScheduler</code><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.scheduler.Scheduler" title="aiida.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.scheduler.Scheduler</span></code></a></p>
<p>Support for the SLURM scheduler (<a class="reference external" href="http://slurm.schedmd.com/">http://slurm.schedmd.com/</a>).</p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.slurm'</em><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._convert_time">
<code class="sig-name descname">_convert_time</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._convert_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._convert_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a string in the format DD-HH:MM:SS to a number of seconds.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._detailed_job_info_fields">
<code class="sig-name descname">_detailed_job_info_fields</code><em class="property"> = ['AllocCPUS', 'Account', 'AssocID', 'AveCPU', 'AvePages', 'AveRSS', 'AveVMSize', 'Cluster', 'Comment', 'CPUTime', 'CPUTimeRAW', 'DerivedExitCode', 'Elapsed', 'Eligible', 'End', 'ExitCode', 'GID', 'Group', 'JobID', 'JobName', 'MaxRSS', 'MaxRSSNode', 'MaxRSSTask', 'MaxVMSize', 'MaxVMSizeNode', 'MaxVMSizeTask', 'MinCPU', 'MinCPUNode', 'MinCPUTask', 'NCPUS', 'NNodes', 'NodeList', 'NTasks', 'Priority', 'Partition', 'QOSRAW', 'ReqCPUS', 'Reserved', 'ResvCPU', 'ResvCPURAW', 'Start', 'State', 'Submit', 'Suspended', 'SystemCPU', 'Timelimit', 'TotalCPU', 'UID', 'User', 'UserCPU']</em><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._detailed_job_info_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._features">
<code class="sig-name descname">_features</code><em class="property"> = {'can_query_by_user': False}</em><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._features" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._get_detailed_job_info_command">
<code class="sig-name descname">_get_detailed_job_info_command</code><span class="sig-paren">(</span><em class="sig-param">job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._get_detailed_job_info_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._get_detailed_job_info_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to run to get the detailed information on a job,
even after the job has finished.</p>
<p>The output text is just retrieved, and returned for logging purposes.
–parsable split the fields with a pipe (|), adding a pipe also at
the end.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._get_joblist_command">
<code class="sig-name descname">_get_joblist_command</code><span class="sig-paren">(</span><em class="sig-param">jobs=None</em>, <em class="sig-param">user=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._get_joblist_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._get_joblist_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The command to report full information on existing jobs.</p>
<p>Separate the fields with the _field_separator string order:
jobnum, state, walltime, queue[=partition], user, numnodes, numcores, title</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._get_kill_command">
<code class="sig-name descname">_get_kill_command</code><span class="sig-paren">(</span><em class="sig-param">jobid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._get_kill_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._get_kill_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the command to kill the job with specified jobid.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._get_submit_command">
<code class="sig-name descname">_get_submit_command</code><span class="sig-paren">(</span><em class="sig-param">submit_script</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._get_submit_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._get_submit_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the string to execute to submit a given script.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>submit_script: the path of the submit script relative to the working</dt><dd><p>directory.
IMPORTANT: submit_script should be already escaped.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._get_submit_script_header">
<code class="sig-name descname">_get_submit_script_header</code><span class="sig-paren">(</span><em class="sig-param">job_tmpl</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._get_submit_script_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._get_submit_script_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the submit script header, using the parameters from the
job_tmpl.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>job_tmpl: an JobTemplate instance with relevant parameters set.</p>
</dd>
</dl>
<p>TODO: truncate the title if too long</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._job_resource_class">
<code class="sig-name descname">_job_resource_class</code><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._job_resource_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#aiida.schedulers.plugins.slurm.SlurmJobResource" title="aiida.schedulers.plugins.slurm.SlurmJobResource"><code class="xref py py-class docutils literal notranslate"><span class="pre">SlurmJobResource</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._logger">
<code class="sig-name descname">_logger</code><em class="property"> = &lt;Logger aiida.scheduler.slurm (REPORT)&gt;</em><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._parse_joblist_output">
<code class="sig-name descname">_parse_joblist_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._parse_joblist_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._parse_joblist_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the queue output string, as returned by executing the
command returned by _get_joblist_command command,
that is here implemented as a list of lines, one for each
job, with _field_separator as separator. The order is described
in the _get_joblist_command function.</p>
<p>Return a list of JobInfo objects, one of each job,
each relevant parameters implemented.</p>
<dl class="simple">
<dt>Note: depending on the scheduler configuration, finished jobs may</dt><dd><p>either appear here, or not.
This function will only return one element for each job find
in the qstat output; missing jobs (for whatever reason) simply
will not appear here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._parse_kill_output">
<code class="sig-name descname">_parse_kill_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._parse_kill_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._parse_kill_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the kill command.</p>
<p>To be implemented by the plugin.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if everything seems ok, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._parse_submit_output">
<code class="sig-name descname">_parse_submit_output</code><span class="sig-paren">(</span><em class="sig-param">retval</em>, <em class="sig-param">stdout</em>, <em class="sig-param">stderr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._parse_submit_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._parse_submit_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the output of the submit command, as returned by executing the
command returned by _get_submit_command command.</p>
<p>To be implemented by the plugin.</p>
<p>Return a string with the JobID.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler._parse_time_string">
<code class="sig-name descname">_parse_time_string</code><span class="sig-paren">(</span><em class="sig-param">string</em>, <em class="sig-param">fmt='%Y-%m-%dT%H:%M:%S'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/slurm.html#SlurmScheduler._parse_time_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler._parse_time_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a time string in the format returned from qstat -f and
returns a datetime object.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.schedulers.plugins.slurm.SlurmScheduler.fields">
<code class="sig-name descname">fields</code><em class="property"> = [('%i', 'job_id'), ('%t', 'state_raw'), ('%r', 'annotation'), ('%B', 'executing_host'), ('%u', 'username'), ('%D', 'number_nodes'), ('%C', 'number_cpus'), ('%R', 'allocated_machines'), ('%P', 'partition'), ('%l', 'time_limit'), ('%M', 'time_used'), ('%S', 'dispatch_time'), ('%j', 'job_name'), ('%V', 'submission_time')]</em><a class="headerlink" href="#aiida.schedulers.plugins.slurm.SlurmScheduler.fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-aiida.schedulers.plugins.torque"></span><p>Plugin for PBS/Torque.
This has been tested on Torque v.2.4.16 (from Ubuntu).</p>
<dl class="class">
<dt id="aiida.schedulers.plugins.torque.TorqueScheduler">
<em class="property">class </em><code class="sig-prename descclassname">aiida.schedulers.plugins.torque.</code><code class="sig-name descname">TorqueScheduler</code><a class="reference internal" href="../_modules/aiida/schedulers/plugins/torque.html#TorqueScheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.torque.TorqueScheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass" title="aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.schedulers.plugins.pbsbaseclasses.PbsBaseClass</span></code></a></p>
<p>Subclass to support the Torque scheduler..</p>
<p>I redefine only what needs to change from the base class</p>
<dl class="attribute">
<dt id="aiida.schedulers.plugins.torque.TorqueScheduler.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.schedulers.plugins.torque'</em><a class="headerlink" href="#aiida.schedulers.plugins.torque.TorqueScheduler.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.schedulers.plugins.torque.TorqueScheduler._get_resource_lines">
<code class="sig-name descname">_get_resource_lines</code><span class="sig-paren">(</span><em class="sig-param">num_machines</em>, <em class="sig-param">num_mpiprocs_per_machine</em>, <em class="sig-param">num_cores_per_machine</em>, <em class="sig-param">max_memory_kb</em>, <em class="sig-param">max_wallclock_seconds</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/schedulers/plugins/torque.html#TorqueScheduler._get_resource_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.schedulers.plugins.torque.TorqueScheduler._get_resource_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lines for machines, memory and wallclock relative
to pbspro.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>