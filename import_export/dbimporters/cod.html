

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>COD database importer &mdash; AiiDA 1.2.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/togglebutton.js"></script>
        <script src="../../_static/contentui.js"></script>
        <script >var togglebuttonSelector = '.toggle';</script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/about.html">What is AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/get_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/installation.html">Advanced Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../howto/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../topics/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../development/placeholder.html">Placeholder</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>COD database importer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/import_export/dbimporters/cod.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cod-database-importer">
<h1>COD database importer<a class="headerlink" href="#cod-database-importer" title="Permalink to this headline">¶</a></h1>
<p>COD database importer is used to import crystal structures from the <a class="reference external" href="http://www.crystallography.net">Crystallography Open Database</a> (COD) to AiiDA.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>An instance of <a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodDbImporter" title="aiida.tools.dbimporters.plugins.cod.CodDbImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodDbImporter</span></code></a> is created as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aiida.tools.dbimporters.plugins.cod</span> <span class="kn">import</span> <span class="n">CodDbImporter</span>

<span class="n">importer</span> <span class="o">=</span> <span class="n">CodDbImporter</span><span class="p">()</span>
</pre></div>
</div>
<p>No additional parameters are required for standard queries on the main COD server.</p>
</div>
<div class="section" id="how-to-do-a-query">
<h2>How to do a query<a class="headerlink" href="#how-to-do-a-query" title="Permalink to this headline">¶</a></h2>
<p>A search is initiated by using the <a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodDbImporter.query" title="aiida.tools.dbimporters.plugins.cod.CodDbImporter.query"><code class="xref py py-meth docutils literal notranslate"><span class="pre">query()</span></code></a> method, supplying statements using the <code class="docutils literal notranslate"><span class="pre">keyword=value</span></code> syntax:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">chemical_name</span><span class="o">=</span><span class="s2">&quot;caffeine&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>List of possible keywords can be listed using the method <a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodDbImporter.get_supported_keywords" title="aiida.tools.dbimporters.plugins.cod.CodDbImporter.get_supported_keywords"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_supported_keywords()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">importer</span><span class="o">.</span><span class="n">get_supported_keywords</span><span class="p">()</span>
</pre></div>
</div>
<p>Values for most of the keywords can be encapsulated in a list.
In that case the query will return entries that match any of the values (binary <cite>OR</cite>) from the list.
Moreover, in the case of multiple keywords, entries that match all the conditions imposed by the keywords, will be returned (binary <cite>AND</cite>).</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">importer</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">chemical_name</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;caffeine&quot;</span><span class="p">,</span> <span class="s2">&quot;serotonin&quot;</span><span class="p">],</span> <span class="n">year</span><span class="o">=</span><span class="p">[</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2001</span><span class="p">])</span>
</pre></div>
</div>
<p>is equivalent to the following SQL statement:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="k">data</span> <span class="k">WHERE</span>
            <span class="p">(</span> <span class="n">chemical_name</span> <span class="o">==</span> <span class="ss">&quot;caffeine&quot;</span> <span class="k">OR</span> <span class="n">chemical_name</span> <span class="o">==</span> <span class="ss">&quot;serotonin&quot;</span> <span class="p">)</span> <span class="k">AND</span>
            <span class="p">(</span> <span class="k">year</span> <span class="o">=</span> <span class="mi">2000</span> <span class="k">OR</span> <span class="k">year</span> <span class="o">=</span> <span class="mi">2001</span> <span class="p">)</span>
</pre></div>
</div>
<p>A query returns an instance of <a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodSearchResults" title="aiida.tools.dbimporters.plugins.cod.CodSearchResults"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodSearchResults</span></code></a>, which can be used in the same way as a list of <a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodEntry" title="aiida.tools.dbimporters.plugins.cod.CodEntry"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodEntry</span></code></a> instances:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>

<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-data-from-codentry">
<h2>Using data from <a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodEntry" title="aiida.tools.dbimporters.plugins.cod.CodEntry"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodEntry</span></code></a><a class="headerlink" href="#using-data-from-codentry" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.plugins.html#aiida.tools.dbimporters.plugins.cod.CodEntry" title="aiida.tools.dbimporters.plugins.cod.CodEntry"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodEntry</span></code></a> has a few methods (inherited from <a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.html#aiida.tools.dbimporters.baseclasses.CifEntry" title="aiida.tools.dbimporters.baseclasses.CifEntry"><code class="xref py py-class docutils literal notranslate"><span class="pre">CifEntry</span></code></a>) to access the contents of its instances:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.html#aiida.tools.dbimporters.baseclasses.CifEntry.get_aiida_structure" title="aiida.tools.dbimporters.baseclasses.CifEntry.get_aiida_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_aiida_structure()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.html#aiida.tools.dbimporters.baseclasses.CifEntry.get_ase_structure" title="aiida.tools.dbimporters.baseclasses.CifEntry.get_ase_structure"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_ase_structure()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.html#aiida.tools.dbimporters.baseclasses.CifEntry.get_cif_node" title="aiida.tools.dbimporters.baseclasses.CifEntry.get_cif_node"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_cif_node()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.html#aiida.tools.dbimporters.baseclasses.CifEntry.get_parsed_cif" title="aiida.tools.dbimporters.baseclasses.CifEntry.get_parsed_cif"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_parsed_cif()</span></code></a></p></li>
<li><p><a class="reference internal" href="../../apidoc/aiida.tools.dbimporters.html#aiida.tools.dbimporters.baseclasses.CifEntry.get_raw_cif" title="aiida.tools.dbimporters.baseclasses.CifEntry.get_raw_cif"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_raw_cif()</span></code></a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>