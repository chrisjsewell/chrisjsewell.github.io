

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aiida.backends.general package &mdash; AiiDA 1.2.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/togglebutton.js"></script>
        <script src="../_static/contentui.js"></script>
        <script >var togglebuttonSelector = '.toggle';</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/about.html">What is AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/get_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/installation.html">Advanced Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howto/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topics/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plugins/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/placeholder.html">Placeholder</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>aiida.backends.general package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/aiida.backends.general.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-aiida.backends.general">
<span id="aiida-backends-general-package"></span><h1>aiida.backends.general package<a class="headerlink" href="#module-aiida.backends.general" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="aiida.backends.general.migrations.html">aiida.backends.general.migrations package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="aiida.backends.general.migrations.html#module-aiida.backends.general.migrations.calc_state">Submodules</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="module-aiida.backends.general.abstractqueries">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-aiida.backends.general.abstractqueries" title="Permalink to this headline">¶</a></h2>
<p>Manage AiiDA queries.</p>
<dl class="class">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager">
<em class="property">class </em><code class="sig-prename descclassname">aiida.backends.general.abstractqueries.</code><code class="sig-name descname">AbstractQueryManager</code><span class="sig-paren">(</span><em class="sig-param">backend</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/abstractqueries.html#AbstractQueryManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></a></p>
<p>Manage AiiDA queries.</p>
<dl class="attribute">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.__abstractmethods__">
<code class="sig-name descname">__abstractmethods__</code><em class="property"> = frozenset({})</em><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.__abstractmethods__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.__dict__">
<code class="sig-name descname">__dict__</code><em class="property"> = mappingproxy({'__module__': 'aiida.backends.general.abstractqueries', '__doc__': 'Manage AiiDA queries.', '__init__': &lt;function AbstractQueryManager.__init__&gt;, 'get_duplicate_uuids': &lt;function AbstractQueryManager.get_duplicate_uuids&gt;, 'apply_new_uuid_mapping': &lt;function AbstractQueryManager.apply_new_uuid_mapping&gt;, 'get_creation_statistics': &lt;staticmethod object&gt;, '_extract_formula': &lt;staticmethod object&gt;, 'get_bands_and_parents_structure': &lt;function AbstractQueryManager.get_bands_and_parents_structure&gt;, 'get_all_parents': &lt;staticmethod object&gt;, '__dict__': &lt;attribute '__dict__' of 'AbstractQueryManager' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'AbstractQueryManager' objects&gt;, '__abstractmethods__': frozenset(), '_abc_impl': &lt;_abc_data object&gt;})</em><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">backend</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/abstractqueries.html#AbstractQueryManager.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>backend</strong> (<a class="reference internal" href="aiida.orm.implementation.sql.html#aiida.orm.implementation.sql.SqlBackend" title="aiida.orm.implementation.sql.SqlBackend"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.implementation.sql.SqlBackend</span></code></a>) – The AiiDA backend</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.backends.general.abstractqueries'</em><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager._abc_impl">
<code class="sig-name descname">_abc_impl</code><em class="property"> = &lt;_abc_data object&gt;</em><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager._extract_formula">
<em class="property">static </em><code class="sig-name descname">_extract_formula</code><span class="sig-paren">(</span><em class="sig-param">akinds</em>, <em class="sig-param">asites</em>, <em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/abstractqueries.html#AbstractQueryManager._extract_formula"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager._extract_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract formula from the structure object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>akinds</strong> – list of kinds, e.g. [{‘mass’: 55.845, ‘name’: ‘Fe’, ‘symbols’: [‘Fe’], ‘weights’: [1.0]},
{‘mass’: 15.9994, ‘name’: ‘O’, ‘symbols’: [‘O’], ‘weights’: [1.0]}]</p></li>
<li><p><strong>asites</strong> – list of structure sites e.g. [{‘position’: [0.0, 0.0, 0.0], ‘kind_name’: ‘Fe’},
{‘position’: [2.0, 2.0, 2.0], ‘kind_name’: ‘O’}]</p></li>
<li><p><strong>args</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – a namespace with parsed command line parameters, here only ‘element’ and ‘element_only’ are used</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a string with formula if the formula is found</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.apply_new_uuid_mapping">
<code class="sig-name descname">apply_new_uuid_mapping</code><span class="sig-paren">(</span><em class="sig-param">table</em>, <em class="sig-param">mapping</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/abstractqueries.html#AbstractQueryManager.apply_new_uuid_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.apply_new_uuid_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.get_all_parents">
<em class="property">static </em><code class="sig-name descname">get_all_parents</code><span class="sig-paren">(</span><em class="sig-param">node_pks</em>, <em class="sig-param">return_values=('id'</em>, <em class="sig-param">)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/abstractqueries.html#AbstractQueryManager.get_all_parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.get_all_parents" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the parents of given nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_pks</strong> – one node pk or an iterable of node pks</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of aiida objects with all the parents of the nodes</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.get_bands_and_parents_structure">
<code class="sig-name descname">get_bands_and_parents_structure</code><span class="sig-paren">(</span><em class="sig-param">args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/abstractqueries.html#AbstractQueryManager.get_bands_and_parents_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.get_bands_and_parents_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for bands and return bands and the closest structure that is a parent of the instance.
This is the backend independent way, can be overriden for performance reason</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>A list of sublists, each latter containing (in order):</dt><dd><p>pk as string, formula as string, creation date, bandsdata-label</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.get_creation_statistics">
<em class="property">static </em><code class="sig-name descname">get_creation_statistics</code><span class="sig-paren">(</span><em class="sig-param">user_pk=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/abstractqueries.html#AbstractQueryManager.get_creation_statistics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.get_creation_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dictionary with the statistics of node creation, summarized by day.</p>
<dl class="field-list simple">
<dt class="field-odd">Note</dt>
<dd class="field-odd"><p>Days when no nodes were created are not present in the returned <cite>ctime_by_day</cite> dictionary.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>user_pk</strong> – If None (default), return statistics for all users.
If user pk is specified, return only the statistics for the given user.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>a dictionary as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="n">TOTAL_NUM_OF_NODES</span><span class="p">,</span>
   <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="p">{</span><span class="n">TYPESTRING1</span><span class="p">:</span> <span class="n">count</span><span class="p">,</span> <span class="n">TYPESTRING2</span><span class="p">:</span> <span class="n">count</span><span class="p">,</span> <span class="o">...</span><span class="p">},</span>
   <span class="s2">&quot;ctime_by_day&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;YYYY-MMM-DD&#39;</span><span class="p">:</span> <span class="n">count</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>
</pre></div>
</div>
<p>where in <cite>ctime_by_day</cite> the key is a string in the format ‘YYYY-MM-DD’ and the value is
an integer with the number of nodes created that day.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.backends.general.abstractqueries.AbstractQueryManager.get_duplicate_uuids">
<code class="sig-name descname">get_duplicate_uuids</code><span class="sig-paren">(</span><em class="sig-param">table</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/backends/general/abstractqueries.html#AbstractQueryManager.get_duplicate_uuids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.backends.general.abstractqueries.AbstractQueryManager.get_duplicate_uuids" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of rows with identical UUID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>table</strong> – Database table with uuid column, e.g. ‘db_dbnode’</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of tuples of (id, uuid) of rows with duplicate UUIDs</p>
</dd>
<dt class="field-odd">Rtype list</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>