

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aiida.engine.processes.calcjobs package &mdash; AiiDA 1.2.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/togglebutton.js"></script>
        <script src="../_static/contentui.js"></script>
        <script >var togglebuttonSelector = '.toggle';</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AiiDA
          

          
          </a>

          
            
            
              <div class="version">
                1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/about.html">What is AiiDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/get_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/installation.html">Advanced Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">How-To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howto/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topics/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plugins/placeholder.html">Placeholder</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/placeholder.html">Placeholder</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AiiDA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>aiida.engine.processes.calcjobs package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidoc/aiida.engine.processes.calcjobs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-aiida.engine.processes.calcjobs">
<span id="aiida-engine-processes-calcjobs-package"></span><h1>aiida.engine.processes.calcjobs package<a class="headerlink" href="#module-aiida.engine.processes.calcjobs" title="Permalink to this headline">¶</a></h1>
<p>Module for the <cite>CalcJob</cite> process and related utilities.</p>
<dl class="class">
<dt id="aiida.engine.processes.calcjobs.CalcJob">
<em class="property">class </em><code class="sig-prename descclassname">aiida.engine.processes.calcjobs.</code><code class="sig-name descname">CalcJob</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.engine.processes.html#aiida.engine.processes.process.Process" title="aiida.engine.processes.process.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.process.Process</span></code></a></p>
<p>Implementation of the CalcJob process.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob._Process__called">
<code class="sig-name descname">_Process__called</code><em class="property"> = True</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob._Process__called" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob.__abstractmethods__">
<code class="sig-name descname">__abstractmethods__</code><em class="property"> = frozenset({})</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.__abstractmethods__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a CalcJob instance.</p>
<p>Construct the instance only if it is a sub class of <cite>CalcJob</cite>, otherwise raise <cite>InvalidOperation</cite>.</p>
<p>See documentation of <a class="reference internal" href="aiida.engine.html#aiida.engine.Process" title="aiida.engine.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.Process</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.engine.processes.calcjobs.calcjob'</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob._abc_impl">
<code class="sig-name descname">_abc_impl</code><em class="property"> = &lt;_abc_data object&gt;</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob._node_class">
<code class="sig-name descname">_node_class</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob._node_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="aiida.orm.nodes.process.calculation.html#aiida.orm.nodes.process.calculation.calcjob.CalcJobNode" title="aiida.orm.nodes.process.calculation.calcjob.CalcJobNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.process.calculation.calcjob.CalcJobNode</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob._spec">
<code class="sig-name descname">_spec</code><em class="property"> = &lt;aiida.engine.processes.process_spec.CalcJobProcessSpec object&gt;</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob._spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob._spec_class">
<code class="sig-name descname">_spec_class</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob._spec_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="aiida.engine.processes.html#aiida.engine.processes.process_spec.CalcJobProcessSpec" title="aiida.engine.processes.process_spec.CalcJobProcessSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.process_spec.CalcJobProcessSpec</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.define">
<em class="property">classmethod </em><code class="sig-name descname">define</code><span class="sig-paren">(</span><em class="sig-param">spec</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.define"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.define" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.get_state_classes">
<em class="property">classmethod </em><code class="sig-name descname">get_state_classes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.get_state_classes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.get_state_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob.link_label_retrieved">
<code class="sig-name descname">link_label_retrieved</code><em class="property"> = 'retrieved'</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.link_label_retrieved" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.on_terminated">
<code class="sig-name descname">on_terminated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.on_terminated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.on_terminated" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanup the node by deleting the calulation job state.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This has to be done before calling the super because that will seal the node after we cannot change it</p>
</div>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.options">
<em class="property">property </em><code class="sig-name descname">options</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the options of the metadata that were specified when this process instance was launched.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>options dictionary</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">retrieved_temporary_folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a retrieved job calculation.</p>
<p>This is called once it’s finished waiting for the calculation to be finished and the data has been retrieved.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.prepare_for_submission">
<code class="sig-name descname">prepare_for_submission</code><span class="sig-paren">(</span><em class="sig-param">folder</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.prepare_for_submission"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.prepare_for_submission" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare files for submission of calculation.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.presubmit">
<code class="sig-name descname">presubmit</code><span class="sig-paren">(</span><em class="sig-param">folder</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.presubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.presubmit" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the calculation folder with all inputs, ready to be copied to the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>folder</strong> (<a class="reference internal" href="aiida.common.html#aiida.common.folders.Folder" title="aiida.common.folders.Folder"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.common.folders.Folder</span></code></a>) – a SandboxFolder that can be used to write calculation input files and the scheduling script.</p>
</dd>
<dt class="field-even">Return calcinfo</dt>
<dd class="field-even"><p>the CalcInfo object containing the information needed by the daemon to handle operations.</p>
</dd>
<dt class="field-odd">Rtype calcinfo</dt>
<dd class="field-odd"><p><a class="reference internal" href="aiida.common.html#aiida.common.CalcInfo" title="aiida.common.CalcInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.common.CalcInfo</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.CalcJob.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the calculation job.</p>
<p>This means invoking the <cite>presubmit</cite> and storing the temporary folder in the node’s repository. Then we move the
process in the <cite>Wait</cite> state, waiting for the <cite>UPLOAD</cite> transport task to be started.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.CalcJob.spec_options">
<code class="sig-name descname">spec_options</code><em class="property"> = &lt;aiida.engine.processes.ports.PortNamespace object&gt;</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.CalcJob.spec_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<div class="section" id="module-aiida.engine.processes.calcjobs.calcjob">
<span id="submodules"></span><h2>Submodules<a class="headerlink" href="#module-aiida.engine.processes.calcjobs.calcjob" title="Permalink to this headline">¶</a></h2>
<p>Implementation of the CalcJob process.</p>
<dl class="class">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob">
<em class="property">class </em><code class="sig-prename descclassname">aiida.engine.processes.calcjobs.calcjob.</code><code class="sig-name descname">CalcJob</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="aiida.engine.processes.html#aiida.engine.processes.process.Process" title="aiida.engine.processes.process.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.process.Process</span></code></a></p>
<p>Implementation of the CalcJob process.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob._Process__called">
<code class="sig-name descname">_Process__called</code><em class="property"> = True</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob._Process__called" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.__abstractmethods__">
<code class="sig-name descname">__abstractmethods__</code><em class="property"> = frozenset({})</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.__abstractmethods__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a CalcJob instance.</p>
<p>Construct the instance only if it is a sub class of <cite>CalcJob</cite>, otherwise raise <cite>InvalidOperation</cite>.</p>
<p>See documentation of <a class="reference internal" href="aiida.engine.html#aiida.engine.Process" title="aiida.engine.Process"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.Process</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.engine.processes.calcjobs.calcjob'</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob._abc_impl">
<code class="sig-name descname">_abc_impl</code><em class="property"> = &lt;_abc_data object&gt;</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob._abc_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob._node_class">
<code class="sig-name descname">_node_class</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob._node_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="aiida.orm.nodes.process.calculation.html#aiida.orm.nodes.process.calculation.calcjob.CalcJobNode" title="aiida.orm.nodes.process.calculation.calcjob.CalcJobNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.process.calculation.calcjob.CalcJobNode</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob._spec">
<code class="sig-name descname">_spec</code><em class="property"> = &lt;aiida.engine.processes.process_spec.CalcJobProcessSpec object&gt;</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob._spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob._spec_class">
<code class="sig-name descname">_spec_class</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob._spec_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="aiida.engine.processes.html#aiida.engine.processes.process_spec.CalcJobProcessSpec" title="aiida.engine.processes.process_spec.CalcJobProcessSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.process_spec.CalcJobProcessSpec</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.define">
<em class="property">classmethod </em><code class="sig-name descname">define</code><span class="sig-paren">(</span><em class="sig-param">spec</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.define"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.define" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.get_state_classes">
<em class="property">classmethod </em><code class="sig-name descname">get_state_classes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.get_state_classes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.get_state_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.link_label_retrieved">
<code class="sig-name descname">link_label_retrieved</code><em class="property"> = 'retrieved'</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.link_label_retrieved" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.on_terminated">
<code class="sig-name descname">on_terminated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.on_terminated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.on_terminated" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanup the node by deleting the calulation job state.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This has to be done before calling the super because that will seal the node after we cannot change it</p>
</div>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.options">
<em class="property">property </em><code class="sig-name descname">options</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the options of the metadata that were specified when this process instance was launched.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>options dictionary</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">retrieved_temporary_folder=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a retrieved job calculation.</p>
<p>This is called once it’s finished waiting for the calculation to be finished and the data has been retrieved.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.prepare_for_submission">
<code class="sig-name descname">prepare_for_submission</code><span class="sig-paren">(</span><em class="sig-param">folder</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.prepare_for_submission"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.prepare_for_submission" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare files for submission of calculation.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.presubmit">
<code class="sig-name descname">presubmit</code><span class="sig-paren">(</span><em class="sig-param">folder</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.presubmit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.presubmit" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the calculation folder with all inputs, ready to be copied to the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>folder</strong> (<a class="reference internal" href="aiida.common.html#aiida.common.folders.Folder" title="aiida.common.folders.Folder"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.common.folders.Folder</span></code></a>) – a SandboxFolder that can be used to write calculation input files and the scheduling script.</p>
</dd>
<dt class="field-even">Return calcinfo</dt>
<dd class="field-even"><p>the CalcInfo object containing the information needed by the daemon to handle operations.</p>
</dd>
<dt class="field-odd">Rtype calcinfo</dt>
<dd class="field-odd"><p><a class="reference internal" href="aiida.common.html#aiida.common.CalcInfo" title="aiida.common.CalcInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.common.CalcInfo</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/calcjob.html#CalcJob.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the calculation job.</p>
<p>This means invoking the <cite>presubmit</cite> and storing the temporary folder in the node’s repository. Then we move the
process in the <cite>Wait</cite> state, waiting for the <cite>UPLOAD</cite> transport task to be started.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.calcjob.CalcJob.spec_options">
<code class="sig-name descname">spec_options</code><em class="property"> = &lt;aiida.engine.processes.ports.PortNamespace object&gt;</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob.spec_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-aiida.engine.processes.calcjobs.manager"></span><p>Module containing utilities and classes relating to job calculations running on systems that require transport.</p>
<dl class="class">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList">
<em class="property">class </em><code class="sig-prename descclassname">aiida.engine.processes.calcjobs.manager.</code><code class="sig-name descname">JobsList</code><span class="sig-paren">(</span><em class="sig-param">authinfo</em>, <em class="sig-param">transport_queue</em>, <em class="sig-param">last_updated=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Manager of calculation jobs submitted with a specific <code class="docutils literal notranslate"><span class="pre">AuthInfo</span></code>, i.e. computer configured for a specific user.</p>
<p>This container of active calculation jobs is used to update their status periodically in batches, ensuring that
even when a lot of jobs are running, the scheduler update command is not triggered for each job individually.</p>
<p>In addition, the <a class="reference internal" href="aiida.orm.html#aiida.orm.computers.Computer" title="aiida.orm.computers.Computer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Computer</span></code></a> for which the <a class="reference internal" href="aiida.orm.html#aiida.orm.authinfos.AuthInfo" title="aiida.orm.authinfos.AuthInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthInfo</span></code></a>
is configured, can define a minimum polling interval. This class will guarantee that the time between update calls
to the scheduler is larger or equal to that minimum interval.</p>
<p>Note that since each instance operates on a specific authinfo, the guarantees of batching scheduler update calls
and the limiting of number of calls per unit time, through the minimum polling interval, is only applicable for jobs
launched with that particular authinfo. If multiple authinfo instances with the same computer, have active jobs
these limitations are not respected between them, since there is no communication between <code class="docutils literal notranslate"><span class="pre">JobsList</span></code> instances.
See the <a class="reference internal" href="#aiida.engine.processes.calcjobs.manager.JobManager" title="aiida.engine.processes.calcjobs.manager.JobManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">JobManager</span></code></a> for example usage.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList.__dict__">
<code class="sig-name descname">__dict__</code><em class="property"> = mappingproxy({'__module__': 'aiida.engine.processes.calcjobs.manager', '__doc__': 'Manager of calculation jobs submitted with a specific ``AuthInfo``, i.e. computer configured for a specific user.\n\n    This container of active calculation jobs is used to update their status periodically in batches, ensuring that\n    even when a lot of jobs are running, the scheduler update command is not triggered for each job individually.\n\n    In addition, the :py:class:`~aiida.orm.computers.Computer` for which the :py:class:`~aiida.orm.authinfos.AuthInfo`\n    is configured, can define a minimum polling interval. This class will guarantee that the time between update calls\n    to the scheduler is larger or equal to that minimum interval.\n\n    Note that since each instance operates on a specific authinfo, the guarantees of batching scheduler update calls\n    and the limiting of number of calls per unit time, through the minimum polling interval, is only applicable for jobs\n    launched with that particular authinfo. If multiple authinfo instances with the same computer, have active jobs\n    these limitations are not respected between them, since there is no communication between ``JobsList`` instances.\n    See the :py:class:`~aiida.engine.processes.calcjobs.manager.JobManager` for example usage.\n    ', '__init__': &lt;function JobsList.__init__&gt;, 'logger': &lt;property object&gt;, 'get_minimum_update_interval': &lt;function JobsList.get_minimum_update_interval&gt;, 'last_updated': &lt;property object&gt;, '_get_jobs_from_scheduler': &lt;function JobsList._get_jobs_from_scheduler&gt;, '_update_job_info': &lt;function JobsList._update_job_info&gt;, 'request_job_info_update': &lt;function JobsList.request_job_info_update&gt;, '_ensure_updating': &lt;function JobsList._ensure_updating&gt;, '_has_job_state_changed': &lt;staticmethod object&gt;, '_get_next_update_delay': &lt;function JobsList._get_next_update_delay&gt;, '_update_requests_outstanding': &lt;function JobsList._update_requests_outstanding&gt;, '_get_jobs_with_scheduler': &lt;function JobsList._get_jobs_with_scheduler&gt;, '__dict__': &lt;attribute '__dict__' of 'JobsList' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'JobsList' objects&gt;})</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">authinfo</em>, <em class="sig-param">transport_queue</em>, <em class="sig-param">last_updated=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an instance for the given authinfo and transport queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>authinfo</strong> (<a class="reference internal" href="aiida.orm.html#aiida.orm.AuthInfo" title="aiida.orm.AuthInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.AuthInfo</span></code></a>) – The authinfo used to check the jobs list</p></li>
<li><p><strong>transport_queue</strong> – A transport queue</p></li>
<li><p><strong>last_updated</strong> – initialize the last updated timestamp</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p><a class="reference internal" href="aiida.engine.html#aiida.engine.transports.TransportQueue" title="aiida.engine.transports.TransportQueue"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.transports.TransportQueue</span></code></a></p>
</dd>
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.engine.processes.calcjobs.manager'</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList._ensure_updating">
<code class="sig-name descname">_ensure_updating</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList._ensure_updating"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList._ensure_updating" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that we are updating the job list from the remote resource.</p>
<p>This will automatically stop if there are no outstanding requests.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList._get_jobs_from_scheduler">
<code class="sig-name descname">_get_jobs_from_scheduler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList._get_jobs_from_scheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList._get_jobs_from_scheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current jobs list from the scheduler.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a mapping of job ids to <a class="reference internal" href="aiida.schedulers.html#aiida.schedulers.datastructures.JobInfo" title="aiida.schedulers.datastructures.JobInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">JobInfo</span></code></a> instances</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList._get_jobs_with_scheduler">
<code class="sig-name descname">_get_jobs_with_scheduler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList._get_jobs_with_scheduler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList._get_jobs_with_scheduler" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the jobs that are currently with scheduler.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the list of jobs with the scheduler</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList._get_next_update_delay">
<code class="sig-name descname">_get_next_update_delay</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList._get_next_update_delay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList._get_next_update_delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate when we are next allowed to poll the scheduler.</p>
<p>This delay is calculated as the minimum polling interval defined by the authentication info for this instance,
minus time elapsed since the last update.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>delay (in seconds) after which the scheduler may be polled again</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList._has_job_state_changed">
<em class="property">static </em><code class="sig-name descname">_has_job_state_changed</code><span class="sig-paren">(</span><em class="sig-param">old</em>, <em class="sig-param">new</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList._has_job_state_changed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList._has_job_state_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether the states <cite>old</cite> and <cite>new</cite> are different.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList._update_job_info">
<code class="sig-name descname">_update_job_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList._update_job_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList._update_job_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Update all of the job information objects.</p>
<p>This will set the futures for all pending update requests where the corresponding job has a new status compared
to the last update.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList._update_requests_outstanding">
<code class="sig-name descname">_update_requests_outstanding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList._update_requests_outstanding"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList._update_requests_outstanding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList.get_minimum_update_interval">
<code class="sig-name descname">get_minimum_update_interval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList.get_minimum_update_interval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList.get_minimum_update_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the minimum interval that should be respected between updates of the list.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the minimum interval</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList.last_updated">
<em class="property">property </em><code class="sig-name descname">last_updated</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList.last_updated" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the timestamp of when the list was last updated as produced by <cite>time.time()</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The last update point</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList.logger">
<em class="property">property </em><code class="sig-name descname">logger</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the logger configured for this instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the logger</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobsList.request_job_info_update">
<code class="sig-name descname">request_job_info_update</code><span class="sig-paren">(</span><em class="sig-param">job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobsList.request_job_info_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobsList.request_job_info_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Request job info about a job when the job next changes state.</p>
<p>If the job is not found in the jobs list at the update, the future will resolve to <cite>None</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>job_id</strong> – job identifier</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>future that will resolve to a <cite>JobInfo</cite> object when the job changes state</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.engine.processes.calcjobs.manager.JobManager">
<em class="property">class </em><code class="sig-prename descclassname">aiida.engine.processes.calcjobs.manager.</code><code class="sig-name descname">JobManager</code><span class="sig-paren">(</span><em class="sig-param">transport_queue</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A manager for <a class="reference internal" href="#aiida.engine.processes.calcjobs.calcjob.CalcJob" title="aiida.engine.processes.calcjobs.calcjob.CalcJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">CalcJob</span></code></a> submitted to <code class="docutils literal notranslate"><span class="pre">Computer</span></code> instances.</p>
<p>When a calculation job is submitted to a <a class="reference internal" href="aiida.orm.html#aiida.orm.computers.Computer" title="aiida.orm.computers.Computer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Computer</span></code></a>, it actually uses a specific
<a class="reference internal" href="aiida.orm.html#aiida.orm.authinfos.AuthInfo" title="aiida.orm.authinfos.AuthInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthInfo</span></code></a>, which is a computer configured for a <a class="reference internal" href="aiida.orm.html#aiida.orm.users.User" title="aiida.orm.users.User"><code class="xref py py-class docutils literal notranslate"><span class="pre">User</span></code></a>.
The <code class="docutils literal notranslate"><span class="pre">JobManager</span></code> maintains a mapping of <a class="reference internal" href="#aiida.engine.processes.calcjobs.manager.JobsList" title="aiida.engine.processes.calcjobs.manager.JobsList"><code class="xref py py-class docutils literal notranslate"><span class="pre">JobsList</span></code></a> instances
for each authinfo that has active calculation jobs. These jobslist instances are then responsible for bundling
scheduler updates for all the jobs they maintain (i.e. that all share the same authinfo) and update their status.</p>
<p>As long as a <a class="reference internal" href="aiida.engine.html#aiida.engine.runners.Runner" title="aiida.engine.runners.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">Runner</span></code></a> will create a single <code class="docutils literal notranslate"><span class="pre">JobManager</span></code> instance and use that for
its lifetime, the guarantees made by the <code class="docutils literal notranslate"><span class="pre">JobsList</span></code> about respecting the minimum polling interval of the scheduler
will be maintained. Note, however, that since each <code class="docutils literal notranslate"><span class="pre">Runner</span></code> will create its own job manager, these guarantees
only hold per runner.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.manager.JobManager.__dict__">
<code class="sig-name descname">__dict__</code><em class="property"> = mappingproxy({'__module__': 'aiida.engine.processes.calcjobs.manager', '__doc__': 'A manager for :py:class:`~aiida.engine.processes.calcjobs.calcjob.CalcJob` submitted to ``Computer`` instances.\n\n    When a calculation job is submitted to a :py:class:`~aiida.orm.computers.Computer`, it actually uses a specific\n    :py:class:`~aiida.orm.authinfos.AuthInfo`, which is a computer configured for a :py:class:`~aiida.orm.users.User`.\n    The ``JobManager`` maintains a mapping of :py:class:`~aiida.engine.processes.calcjobs.manager.JobsList` instances\n    for each authinfo that has active calculation jobs. These jobslist instances are then responsible for bundling\n    scheduler updates for all the jobs they maintain (i.e. that all share the same authinfo) and update their status.\n\n    As long as a :py:class:`~aiida.engine.runners.Runner` will create a single ``JobManager`` instance and use that for\n    its lifetime, the guarantees made by the ``JobsList`` about respecting the minimum polling interval of the scheduler\n    will be maintained. Note, however, that since each ``Runner`` will create its own job manager, these guarantees\n    only hold per runner.\n    ', '__init__': &lt;function JobManager.__init__&gt;, 'get_jobs_list': &lt;function JobManager.get_jobs_list&gt;, 'request_job_info_update': &lt;function JobManager.request_job_info_update&gt;, '__dict__': &lt;attribute '__dict__' of 'JobManager' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'JobManager' objects&gt;})</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobManager.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobManager.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">transport_queue</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobManager.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobManager.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.manager.JobManager.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.engine.processes.calcjobs.manager'</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobManager.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.manager.JobManager.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobManager.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobManager.get_jobs_list">
<code class="sig-name descname">get_jobs_list</code><span class="sig-paren">(</span><em class="sig-param">authinfo</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobManager.get_jobs_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobManager.get_jobs_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Get or create a new <cite>JobLists</cite> instance for the given authinfo.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>authinfo</strong> – the <cite>AuthInfo</cite></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <cite>JobsList</cite> instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.manager.JobManager.request_job_info_update">
<code class="sig-name descname">request_job_info_update</code><span class="sig-paren">(</span><em class="sig-param">authinfo</em>, <em class="sig-param">job_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/manager.html#JobManager.request_job_info_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.manager.JobManager.request_job_info_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a future that will resolve to information about a given job.</p>
<p>This is a context manager so that if the user leaves the context the request is automatically cancelled.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple containing the <cite>JobInfo</cite> object and detailed job info. Both can be None.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tornado.concurrent.Future</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-aiida.engine.processes.calcjobs.tasks"></span><dl class="exception">
<dt id="aiida.engine.processes.calcjobs.tasks.PreSubmitException">
<em class="property">exception </em><code class="sig-prename descclassname">aiida.engine.processes.calcjobs.tasks.</code><code class="sig-name descname">PreSubmitException</code><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#PreSubmitException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.PreSubmitException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Raise in the <cite>do_upload</cite> coroutine when an exception is raised in <cite>CalcJob.presubmit</cite>.</p>
<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.tasks.PreSubmitException.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.engine.processes.calcjobs.tasks'</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.PreSubmitException.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.tasks.PreSubmitException.__weakref__">
<code class="sig-name descname">__weakref__</code><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.PreSubmitException.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting">
<em class="property">class </em><code class="sig-prename descclassname">aiida.engine.processes.calcjobs.tasks.</code><code class="sig-name descname">Waiting</code><span class="sig-paren">(</span><em class="sig-param">process</em>, <em class="sig-param">done_callback</em>, <em class="sig-param">msg=None</em>, <em class="sig-param">data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://plumpy.readthedocs.io/en/latest/apidoc/plumpy.html#plumpy.process_states.Waiting" title="(in plumpy v0.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">plumpy.process_states.Waiting</span></code></a></p>
<p>The waiting state for the <cite>CalcJob</cite> process.</p>
<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">process</em>, <em class="sig-param">done_callback</em>, <em class="sig-param">msg=None</em>, <em class="sig-param">data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>:param <a class="reference external" href="https://plumpy.readthedocs.io/en/latest/apidoc/plumpy.base.html#plumpy.base.state_machine.StateMachine" title="(in plumpy v0.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">StateMachine</span></code></a> process: The process this state belongs to</p>
</dd></dl>

<dl class="attribute">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.__module__">
<code class="sig-name descname">__module__</code><em class="property"> = 'aiida.engine.processes.calcjobs.tasks'</em><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting._launch_task">
<code class="sig-name descname">_launch_task</code><span class="sig-paren">(</span><em class="sig-param">coro</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting._launch_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting._launch_task" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.execute">
<code class="sig-name descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the state, performing the actions that this state is responsible
for.  Return a state to transition to or None if finished.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.interrupt">
<code class="sig-name descname">interrupt</code><span class="sig-paren">(</span><em class="sig-param">reason</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.interrupt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.interrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>Interrupt the <cite>Waiting</cite> state by calling interrupt on the transport task <cite>InterruptableFuture</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.load_instance_state">
<code class="sig-name descname">load_instance_state</code><span class="sig-paren">(</span><em class="sig-param">saved_state</em>, <em class="sig-param">load_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.load_instance_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.load_instance_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">retrieved_temporary_folder</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>Running</cite> state that will parse the <cite>CalcJob</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>retrieved_temporary_folder</strong> – temporary folder used in retrieving that can be used during parsing.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.retrieve">
<code class="sig-name descname">retrieve</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.retrieve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.retrieve" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>Waiting</cite> state that will <cite>retrieve</cite> the <cite>CalcJob</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.submit">
<code class="sig-name descname">submit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>Waiting</cite> state that will <cite>submit</cite> the <cite>CalcJob</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>Waiting</cite> state that will <cite>update</cite> the <cite>CalcJob</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="aiida.engine.processes.calcjobs.tasks.Waiting.upload">
<code class="sig-name descname">upload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#Waiting.upload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.Waiting.upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>Waiting</cite> state that will <cite>upload</cite> the <cite>CalcJob</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.calcjobs.tasks.task_kill_job">
<code class="sig-prename descclassname">aiida.engine.processes.calcjobs.tasks.</code><code class="sig-name descname">task_kill_job</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">transport_queue</em>, <em class="sig-param">cancellable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#task_kill_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.task_kill_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Transport task that will attempt to kill a job calculation.</p>
<p>The task will first request a transport from the queue. Once the transport is yielded, the relevant execmanager
function is called, wrapped in the exponential_backoff_retry coroutine, which, in case of a caught exception, will
retry after an interval that increases exponentially with the number of retries, for a maximum number of retries.
If all retries fail, the task will raise a TransportTaskException</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – the node that represents the job calculation</p></li>
<li><p><strong>transport_queue</strong> – the TransportQueue from which to request a Transport</p></li>
<li><p><strong>cancellable</strong> (<a class="reference internal" href="aiida.engine.html#aiida.engine.utils.InterruptableFuture" title="aiida.engine.utils.InterruptableFuture"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.utils.InterruptableFuture</span></code></a>) – the cancelled flag that will be queried to determine whether the task was cancelled</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>Return if the tasks was successfully completed</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>TransportTaskException if after the maximum number of retries the transport task still excepted</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.calcjobs.tasks.task_retrieve_job">
<code class="sig-prename descclassname">aiida.engine.processes.calcjobs.tasks.</code><code class="sig-name descname">task_retrieve_job</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">transport_queue</em>, <em class="sig-param">retrieved_temporary_folder</em>, <em class="sig-param">cancellable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#task_retrieve_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.task_retrieve_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Transport task that will attempt to retrieve all files of a completed job calculation.</p>
<p>The task will first request a transport from the queue. Once the transport is yielded, the relevant execmanager
function is called, wrapped in the exponential_backoff_retry coroutine, which, in case of a caught exception, will
retry after an interval that increases exponentially with the number of retries, for a maximum number of retries.
If all retries fail, the task will raise a TransportTaskException</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – the node that represents the job calculation</p></li>
<li><p><strong>transport_queue</strong> – the TransportQueue from which to request a Transport</p></li>
<li><p><strong>cancellable</strong> (<a class="reference internal" href="aiida.engine.html#aiida.engine.utils.InterruptableFuture" title="aiida.engine.utils.InterruptableFuture"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.utils.InterruptableFuture</span></code></a>) – the cancelled flag that will be queried to determine whether the task was cancelled</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>Return if the tasks was successfully completed</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>TransportTaskException if after the maximum number of retries the transport task still excepted</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.calcjobs.tasks.task_submit_job">
<code class="sig-prename descclassname">aiida.engine.processes.calcjobs.tasks.</code><code class="sig-name descname">task_submit_job</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">transport_queue</em>, <em class="sig-param">cancellable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#task_submit_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.task_submit_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Transport task that will attempt to submit a job calculation.</p>
<p>The task will first request a transport from the queue. Once the transport is yielded, the relevant execmanager
function is called, wrapped in the exponential_backoff_retry coroutine, which, in case of a caught exception, will
retry after an interval that increases exponentially with the number of retries, for a maximum number of retries.
If all retries fail, the task will raise a TransportTaskException</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – the node that represents the job calculation</p></li>
<li><p><strong>transport_queue</strong> – the TransportQueue from which to request a Transport</p></li>
<li><p><strong>cancellable</strong> (<a class="reference internal" href="aiida.engine.html#aiida.engine.utils.InterruptableFuture" title="aiida.engine.utils.InterruptableFuture"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.utils.InterruptableFuture</span></code></a>) – the cancelled flag that will be queried to determine whether the task was cancelled</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>Return if the tasks was successfully completed</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>TransportTaskException if after the maximum number of retries the transport task still excepted</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.calcjobs.tasks.task_update_job">
<code class="sig-prename descclassname">aiida.engine.processes.calcjobs.tasks.</code><code class="sig-name descname">task_update_job</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">job_manager</em>, <em class="sig-param">cancellable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#task_update_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.task_update_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Transport task that will attempt to update the scheduler status of the job calculation.</p>
<p>The task will first request a transport from the queue. Once the transport is yielded, the relevant execmanager
function is called, wrapped in the exponential_backoff_retry coroutine, which, in case of a caught exception, will
retry after an interval that increases exponentially with the number of retries, for a maximum number of retries.
If all retries fail, the task will raise a TransportTaskException</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="aiida.orm.nodes.process.calculation.html#aiida.orm.nodes.process.calculation.calcjob.CalcJobNode" title="aiida.orm.nodes.process.calculation.calcjob.CalcJobNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.orm.nodes.process.calculation.calcjob.CalcJobNode</span></code></a>) – the node that represents the job calculation</p></li>
<li><p><strong>job_manager</strong> (<a class="reference internal" href="#aiida.engine.processes.calcjobs.manager.JobManager" title="aiida.engine.processes.calcjobs.manager.JobManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.processes.calcjobs.manager.JobManager</span></code></a>) – The job manager</p></li>
<li><p><strong>cancellable</strong> (<a class="reference internal" href="aiida.engine.html#aiida.engine.utils.InterruptableFuture" title="aiida.engine.utils.InterruptableFuture"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.utils.InterruptableFuture</span></code></a>) – A cancel flag</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>Return containing True if the tasks was successfully completed, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="aiida.engine.processes.calcjobs.tasks.task_upload_job">
<code class="sig-prename descclassname">aiida.engine.processes.calcjobs.tasks.</code><code class="sig-name descname">task_upload_job</code><span class="sig-paren">(</span><em class="sig-param">process</em>, <em class="sig-param">transport_queue</em>, <em class="sig-param">cancellable</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aiida/engine/processes/calcjobs/tasks.html#task_upload_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aiida.engine.processes.calcjobs.tasks.task_upload_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Transport task that will attempt to upload the files of a job calculation to the remote.</p>
<p>The task will first request a transport from the queue. Once the transport is yielded, the relevant execmanager
function is called, wrapped in the exponential_backoff_retry coroutine, which, in case of a caught exception, will
retry after an interval that increases exponentially with the number of retries, for a maximum number of retries.
If all retries fail, the task will raise a TransportTaskException</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – the node that represents the job calculation</p></li>
<li><p><strong>transport_queue</strong> – the TransportQueue from which to request a Transport</p></li>
<li><p><strong>cancellable</strong> (<a class="reference internal" href="aiida.engine.html#aiida.engine.utils.InterruptableFuture" title="aiida.engine.utils.InterruptableFuture"><code class="xref py py-class docutils literal notranslate"><span class="pre">aiida.engine.utils.InterruptableFuture</span></code></a>) – the cancelled flag that will be queried to determine whether the task was cancelled</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>Return if the tasks was successfully completed</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>TransportTaskException if after the maximum number of retries the transport task still excepted</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, ECOLE POLYTECHNIQUE FEDERALE DE LAUSANNE (Theory and Simulation of Materials (THEOS) and National Centre for Computational Design and Discovery of Novel Materials (NCCR MARVEL)), Switzerland and ROBERT BOSCH LLC, USA. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>